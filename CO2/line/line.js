var dom = document.getElementById("chart-container");
var myChart = echarts.init(dom, null, {
  renderer: "canvas",
  useDirtyRect: false
});
var app = {};

var option;

var dataMap = {};
function dataFormatter(obj) {
  // prettier-ignore
  var pList = ['Argentina','Australia','Austria','Belgium','Brazil','Bulgaria','Cambodia','Canada','Chile','China','Colombia','Costa Rica','Croatia','Cyprus','Czech Rep.','Denmark','Estonia','Finland','France','Germany','Greece','Hungary','Iceland','India','Indonesia','Ireland','Israel','Italy','Japan','Kazakhstan','Korea','Latvia','Lithuania','Luxembourg','Malaysia','Malta','Mexico','Morocco','Myanmar','Netherlands','New Zealand','Norway','Peru','Philippines','Poland','Portugal','Romania','Saudi Arabia','Singapore','Slovenia','South Africa','Spain','Sweden','Switzerland','Thailand','Tunisia','Turkey','United Kingdom','United States','Vietnam'
];
  var temp;
  for (var year = 2000; year <= 2018; year++) {
    var max = 0;
    var sum = 0;
    temp = obj[year];
    for (var i = 0, l = temp.length; i < l; i++) {
      max = Math.max(max, temp[i]);
      sum += temp[i];
      obj[year][i] = {
        name: pList[i],
        value: temp[i]
      };
    }
    obj[year + "max"] = Math.floor(max / 100) * 100;
    obj[year + "sum"] = sum;
  }
  return obj;
}
// prettier-ignore
dataMap.dataGDP = dataFormatter({
    //max : 60000,
    2000:[27894.7,65378,25006.6,30669.5,46674.1,197708.5,41351.4,63631.7,62807.4,185606.2,55786.9,22916.6,66258.1,66162,102613.7,33425.3,145485.6,45178.2,30537.4,42116.9,69663,82265.1,17524.5,146530.6,89390.1,39116.6,30413.7,25522.4,25812.4,501442.3,65671.3,67960,38935.5,15931.9,78779.4,55094.4,50116.2,70986.7,184968.8,42640.7,48809.3,20992,41561,85300.2,110083.4,40804.6,150100.7,193197.6,47650.6,47115.1,221289.7,47821.4,21066.9,13176.1,76754.7,79889.2,55728.5,29835.7,55499,104802.5],
    2001:[28581.1,71679.4,25954.9,31395.8,53651.3,186633.3,42365.9,66201.1,68237.6,187038.3,59048,24427.5,69058.3,61559.8,90848.4,34170.4,135372.9,48542.3,27020.8,43144.6,68531.1,78430.5,16332.3,147523.1,101614.4,38501.9,32634.8,24527.2,28552.2,480284.4,71689.7,58887.3,38323.7,17117.4,82029.7,67216.5,46499.5,76389.1,142429.5,42776,53649.8,20809,38205,95454.3,92136.3,38398.5,150496.3,194897.5,51734.4,46376,257119.6,46280.6,20855.8,13334.2,80437.3,81536,67305.8,31809.6,51774.1,106500.6],
    2002:[64577.3,71396.4,23890.4,30668.4,60078.4,158187.5,42191.8,67008.1,70462.3,183930.4,54590.1,23212,57433.8,59946.9,74969.6,31595.2,112122.9,45283.3,24372.7,39981.2,58214.2,58329,16541.4,139837.3,87775.8,44526.7,37423.4,23875.5,31108.9,404794.8,61077.3,51834.3,31951.8,17991.2,81849,64538.1,44478.5,72535.1,112242.8,39986.6,47214.3,18087.6,38871.6,86163.4,84094.9,38376,129093.8,204415.6,49881.4,36281.5,271510.1,44014.8,19853.7,12003.5,76659.5,75408.4,59187.9,30571.2,54945.2,112027.1],
    2003:[56690.5,60805.7,21641.4,25868.4,51419,134814,41476.3,59870.7,67666.8,181671.2,52953.2,21733.7,43645.3,53874.5,63906.5,28430,96736.6,40915.3,20456.6,29484.3,45442.9,48933.9,14350.8,120263.4,85076.8,34495.9,35199.3,20539.5,28440.9,400444.4,56428.5,45827.8,25034.3,14858.4,76748.7,64056.4,45928.2,56464.4,148894.1,32754.8,37686.7,16541.8,34870.9,83357.1,76639.2,29016.9,107426.6,190106.9,42330,32567.8,200306.5,36590.1,16831.1,10223.4,69005.5,64014,48555.7,27817.6,51244.8,101537.8],
    2004:[54480.8,50340.6,22423.5,21053.2,44681.3,99222.3,36269.4,52395.6,56897.4,173953.9,43757.4,21444,33673.9,47739.9,52304.5,23768,81427.7,33227.7,17415.8,25510,37211.4,37184.9,12618.1,103860.6,81440.8,28862.9,32388.3,18494.5,26515.4,336345.3,54929,34794.8,20849.4,14586.9,73228.3,59669.2,41920.4,51703.4,133034.4,29829.2,29752.6,14798.2,37236.4,77225.8,63154.6,25426.9,75114.6,151450.8,36586.7,41513.7,163093.2,33027.9,14602.1,9204.8,65496.6,58842.6,38685.3,23693.2,50504.1,97119.1],
    2005:[47989.3,44124.3,19164.7,19464,34369.6,85927.4,35362.3,43760.4,46688.7,169666.1,36804.2,18819,30162.9,37193,43788.8,20949.3,73234.1,27493.3,16711.2,22876.4,36958.3,32139.4,11382.3,93708.1,73504.6,27410.5,29501.3,17594.1,26615.8,290727.9,42342.4,30231.3,20685.3,14081.7,68054.6,37595.5,38489,53053.9,117872.4,26855.3,26572.9,12255.6,32386.9,69596.5,52018.2,25107.4,56560.7,140010.6,30221.4,39032,147014.6,32244.7,14022.9,8792.3,58483.1,50447.3,32001.6,22388.1,47126.4,88318.3],
    2006:[44156.1,42376.6,16852.8,18584.9,28016.8,75612.1,30892.2,38728.2,38124.3,156730.8,34818.8,17683.6,27045.6,38787.3,37628,21160.8,56276.1,29044.1,15424.3,21071.8,31618.3,30152.3,512623,86391.9,65900,23784.8,31889.7,16267.1,25645.7,184814.1,37294,84585.9,18597.7,13095.4,64292.2,31167.5,36164.5,47141.3,87399.2,24715,28001.2,12306.2,27076.7,53519.8,46157.7,21723.5,46311.2,132955.2,28353.4,33675.9,136091.6,38260.3,13033.3,8124.8,55566.9,48267.7,33234.7,20548.5,43517.1,77476.6],
    2007:[37355,37475.5,14093,16400.1,24371.7,57760.5,32730,36372,36107.1,139863.8,28166.1,17305.2,25279.7,38097.6,31763.5,18124.8,55452.9,25521.7,13709.8,18475.9,30161.7,23125.2,10082.4,78045.9,60648.9,19393.6,26849.3,14482.3,27238.6,174477.4,33503,18125.5,13884.3,10821.2,59957.5,25193.4,33900.9,40551.2,65811.8,21720.8,22908.2,10315.2,25440.7,46681.5,36978.9,19107.4,34260.2,130367.4,26233.4,37371,124646,31368.3,10950.1,7216.2,48323.7,42752.9,29718.1,17985.6,42215.2,72636.7],
    2008:[31936,33280.8,10798.2,13625.7,21067.1,45385,30538.7,32548.3,33051.8,115305.2,23979,14647.5,19447.7,34624.8,24277.8,14703,45003.9,19977.9,13581.9,16351.4,25450.1,21078.6,9033.7,74752.4,50024.2,16782.1,22087.8,13868.7,23136.8,183201.5,34148.1,13910,13081,9673.3,52925.4,21720.5,31551.6,36713.7,38654.2,19169.8,24065.4,9032.9,20781.6,38686.2,29285.9,16464.6,28535,128265.2,22624.1,23365.4,136999.9,26174.4,10222.5,6181.3,43587.1,37892,23784.1,17406.9,38005.6,63107.9],
    2009:[33890.5,34277,10927.3,14993.9,21431.2,42819.8,34406.5,36832.2,35815.3,121351.3,27489.2,15008,23038,31302.9,28207.5,16364.1,42914.2,22207.3,17225,16637,24087.1,29108.7,10992.7,82574.5,52427,18650.8,27028.3,14573.7,24077.8,158452.7,43002.5,16049.7,16252.6,10417.4,56593.2,24326.4,38806.6,35823,27398.5,21010.8,24137.8,11002.1,22472.6,39314.1,34886.8,18856.6,28249.7,138768.4,26470.6,27475.8,133608.4,27782.6,13568.4,6555.2,44853.1,37809.8,31451.7,19724.7,37528.7,67756.9],
    2010:[30172.7,29838.5,11380.5,15299.3,17496.1,49265.2,33906.1,30203.5,27723.5,109980.6,25127.9,12420.2,24034.3,35055.3,26115.9,15372.2,45487.5,22926.2,16823,17804,24087.9,23303.8,9022.3,69484.1,44680.3,18178.8,25617.6,16103.4,22419.6,142629.2,37166.2,33911.2,15518.8,10194,54077.9,28177.1,35578,37600.6,25647.7,21400,19465,10667.5,21345.6,35536.7,32283.6,16176.6,28435,132982.4,23058.6,39355.6,100274.6,28899.4,11310.9,6455.8,38870.4,40444.6,25984,18855.3,36534.5,66029.9],
    2011:[27204.6,23680.2,10101,12794.6,14973.1,41461.9,28718.2,26854.2,26570.3,102756.8,25251.4,11015.2,22174.3,31422.9,21873.2,12786.6,38232,19081.9,13867.4,15803.7,22892.9,20513,7395.1,64377.1,42745.5,18271.3,25127,14985.7,22694.4,135027.8,34088.3,19987.3,13873.3,8683.1,44373.5,27028,34625,36712.3,20332.1,18792.5,16389.4,9304.1,21122.2,30422.5,28349.8,15400.4,25105.8,119210.2,21733.8,37526.5,85869.4,25932,9111.4,5578.5,34627.9,38429.9,24542,16389.3,35427.4,55494.5],
    2012:[26263.3,21631.3,10806,13328.1,16548.9,38874.6,27905.4,26234.4,24635.6,95540.5,26996.6,10222.9,19018.9,28990.2,23131.7,11827.2,36125.3,18478.9,14773.6,16431.6,24718.5,21572.5,6674.6,66372.3,40234.3,16524.6,29876.1,14877.3,24366.2,111633.2,32937.7,21246,12957,9257.5,42739.4,26846.8,34344.9,37825.1,24337.7,18908.3,16508.3,9243.3,18699.3,27310,28670.6,16509.1,25416.7,112223.6,19920.2,71667.3,90155.3,32099.4,9049.3,5739.6,35209.3,41289.5,24283.3,16375.3,33897.5,48852.8],
    2013:[25981.3,21726.4,10961.4,14272.5,17742.7,34244.9,26010,26153.1,28282.8,93670.2,18386.6,10608.2,19894.5,34048.4,22149,12034.9,37824.4,18588.9,14855.4,16302.9,23090.9,21359.3,6835.4,66965.4,36158.1,16100.7,16763.3,13383.9,26907.9,131435.2,32095.3,14750,9718.5,8572.2,44501.3,22921.9,33629.6,31188.7,25035,18729.3,16642.9,9031.4,18032,27839.7,28098.6,15423.7,21771,97564.1,20474.7,53713.4,96493.4,31404.2,9110.9,5540.1,35914.8,41700.3,22713.2,15622.7,33202.4,45382.2],
    2014:[28211.1,22790.3,10557.2,13725.1,18926.3,34899.9,32167.2,26442.4,26775.5,88069.3,16308.8,9832.4,19861.8,45513.2,22900,11356.8,34584.1,17690,16840,16202.1,22053,26081.7,6788.3,68271.1,40689.3,15677.4,15921.7,12862.1,27564.3,92554.7,29685,13886.6,9062.8,7841.4,45464,23911.6,31423.5,31950.8,30221.7,18889.2,15949.5,9024.2,19196.4,28959.3,27001.2,14424.3,21740.9,105462.1,20649.8,34572.9,101416.3,31249.5,9696.9,5028.9,36598.8,44094.6,24468,14265.1,31505.8,45884.1],
    2015:[26786.7,26022.8,12522.7,17030.3,24333,41247.1,37366.6,30415.9,29759.6,85540.8,20618.9,8790.2,25070.1,35359.5,27917.2,13389.9,39955.4,19479.8,22997.6,20101,26777.5,38570.7,115222.7,70878.9,44858.2,16477.9,17973.7,15197.7,30583.5,75563.1,32133.3,16215.8,12236.6,8000.1,50226.3,23072.6,38991.9,36266,36019,22599.9,18750.9,11432.6,20839.1,31060.8,30758.1,18764.9,24642.1,111785.3,19670.6,32858.8,105673.7,50816.4,9954.5,5513,39295,44547,30850.9,15406.5,31207.8,56621.7],
    2016:[27773.1,28185.7,12984.4,17212.2,23286,37519.6,43497.1,32179.1,30468.3,88181,23174.6,9105.1,31211,43177.1,29396.5,13675,39312.9,18893.1,25481.9,19987.2,26318.4,47626.2,8183.7,69323.4,41825.7,16169.4,17236.1,15549.4,30495.1,100386.3,34282.2,21079.5,12775.5,7795.9,48701.1,20722.3,43743.9,34872.7,36460.8,22989,17806.5,12665.5,21531.4,31525.7,33064.9,18876.3,24364.3,106991.2,20692.6,455569.9,113243.2,47169.9,11585,5834.8,39617.3,46034.4,33545,15664,31467.8,58152.6],
    2017:[23037.1,26475.3,12993.8,16500.3,20706.5,37436.7,46428.4,29275.2,27899,86887.8,20960.9,9527.2,31271.4,45902.2,26578.9,12987,34683.9,16524.1,22810.5,17794.4,25337.7,39706.3,7021.1,66403.3,41460.7,15434.9,16027.9,15781.8,27641.8,98068.7,32765.1,21900.7,11345.5,7102.1,45981.5,21294,36926.9,34283,49416.8,21081,16953.3,10847.2,19014.7,32898.5,31082.3,18825.4,21798.8,98917.4,20140.3,185779.3,95438.6,36756.3,11341.5,5727.8,35511.3,48212,34309.6,14644.2,29548.4,53479.3],
    2018:[24897.9,25728,11219.9,15315.5,20744.6,34082.7,47869.9,28171.4,27627.8,81334.6,20538.9,9320.1,20716.4,29919.5,24061.6,12153.4,27646.3,15828.3,21657.2,15742.1,24422.6,27976.5,7074.7,64395.6,44631.9,16897.8,14552.4,14760.2,26254.1,84520.3,30258.5,25593.8,10455.1,6606.2,42965.9,20067.3,31816.1,31937.3,48370.2,18548.7,15965.2,10585.2,17718.3,31554.8,28780.9,16419.6,18997,86427.2,17946.4,41091.3,96192.9,32404.9,11636.4,5424.3,31570.1,46644.3,34996.4,13182.3,27795.7,60322.2]
});
option = {
  baseOption: {
    timeline: {
      axisType: "category",
      // realtime: false,
      // loop: false,
      autoPlay: true,
      // currentIndex: 2,
      playInterval: 1000,
      // controlStyle: {
      //     position: 'left'
      // },
      data: [
        "2000",
        "2001",
        "2002",
        "2003",
        "2004",
        "2005",
        "2006",
        "2007",
        "2008",
        "2009",
        "2010",
        "2011",
        "2012",
        "2013",
        "2014",
        "2015",
        "2016",
        "2017",
        "2018"
      ],
      label: {
        formatter: function (s) {
          return new Date(s).getFullYear();
        }
      }
    },
    title: {
      subtext: "数据来自网络"
    },
    tooltip: {},
    legend: {
      left: "right",
      data: ["CO2排放量"]
    },
    calculable: true,
    grid: {
      top: 80,
      bottom: 100,
      tooltip: {
        trigger: "axis",
        axisPointer: {
          type: "shadow",
          label: {
            show: true,
            formatter: function (params) {
              return params.value.replace("\n", "");
            }
          }
        }
      }
    },
    xAxis: [
      {
        type: "category",
        axisLabel: { interval: 0, rotate: 40 },
        data: [
          "Argentina",
          "Australia",
          "Austria",
          "Belgium",
          "Brazil",
          "Bulgaria",
          "Cambodia",
          "Canada",
          "Chile",
          "China",
          "Colombia",
          "Costa Rica",
          "Croatia",
          "Cyprus",
          "Czech Rep.",
          "Denmark",
          "Estonia",
          "Finland",
          "France",
          "Germany",
          "Greece",
          "Hungary",
          "Iceland",
          "India",
          "Indonesia",
          "Ireland",
          "Israel",
          "Italy",
          "Japan",
          "Kazakhstan",
          "Korea",
          "Latvia",
          "Lithuania",
          "Luxembourg",
          "Malaysia",
          "Malta",
          "Mexico",
          "Morocco",
          "Myanmar",
          "Netherlands",
          "New Zealand",
          "Norway",
          "Peru",
          "Philippines",
          "Poland",
          "Portugal",
          "Romania",
          "Saudi Arabia",
          "Singapore",
          "Slovenia",
          "South Africa",
          "Spain",
          "Sweden",
          "Switzerland",
          "Thailand",
          "Tunisia",
          "Turkey",
          "United Kingdom",
          "United States",
          "Vietnam"
        ],
        splitLine: { show: false }
      }
    ],
    yAxis: [
      {
        type: "value"
      }
    ],
    series: [{ name: "CO2排放量", type: "line" }]
  },
  options: [
    {
      title: { text: "2000世界CO2排放量" },
      series: [{ data: dataMap.dataGDP["2000"] }]
    },
    {
      title: { text: "2001世界CO2排放量" },
      series: [{ data: dataMap.dataGDP["2001"] }]
    },
    {
      title: { text: "2002世界CO2排放量" },
      series: [{ data: dataMap.dataGDP["2002"] }]
    },
    {
      title: { text: "2003世界CO2排放量" },
      series: [{ data: dataMap.dataGDP["2003"] }]
    },
    {
      title: { text: "2004世界CO2排放量" },
      series: [{ data: dataMap.dataGDP["2004"] }]
    },
    {
      title: { text: "2005世界CO2排放量" },
      series: [{ data: dataMap.dataGDP["2005"] }]
    },
    {
      title: { text: "2006世界CO2排放量" },
      series: [{ data: dataMap.dataGDP["2006"] }]
    },
    {
      title: { text: "2007世界CO2排放量" },
      series: [{ data: dataMap.dataGDP["2007"] }]
    },
    {
      title: { text: "2008世界CO2排放量" },
      series: [{ data: dataMap.dataGDP["2008"] }]
    },
    {
      title: { text: "2009世界CO2排放量" },
      series: [{ data: dataMap.dataGDP["2009"] }]
    },
    {
      title: { text: "2010世界CO2排放量" },
      series: [{ data: dataMap.dataGDP["2010"] }]
    },
    {
      title: { text: "2011世界CO2排放量" },
      series: [{ data: dataMap.dataGDP["2011"] }]
    },
    {
      title: { text: "2012世界CO2排放量" },
      series: [{ data: dataMap.dataGDP["2012"] }]
    },
    {
      title: { text: "2013世界CO2排放量" },
      series: [{ data: dataMap.dataGDP["2013"] }]
    },
    {
      title: { text: "2014世界CO2排放量" },
      series: [{ data: dataMap.dataGDP["2014"] }]
    },
    {
      title: { text: "2015世界CO2排放量" },
      series: [{ data: dataMap.dataGDP["2015"] }]
    },
    {
      title: { text: "2016世界CO2排放量" },
      series: [{ data: dataMap.dataGDP["2016"] }]
    },
    {
      title: { text: "2017世界CO2排放量" },
      series: [{ data: dataMap.dataGDP["2017"] }]
    },
    {
      title: { text: "2018世界CO2排放量" },
      series: [{ data: dataMap.dataGDP["2018"] }]
    }
  ]
};

if (option && typeof option === "object") {
  myChart.setOption(option);
}

window.addEventListener("resize", myChart.resize);
